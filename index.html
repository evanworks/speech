<!DOCTYPE html>
<html>
  <head>
    <title>Speech</title>
    <link rel="icon" href="thefirststockphotoifoundwhenilookedupspeechongoogle.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
      body { 
        margin: 0;
        margin-left: 0.5vw;
        margin-top: 0.5vw;
      }
      #thoughts {
        width: 98vw;
        height: 94vh;
        margin-top: 2px;
      }
      #thoughts:focus {
        outline: none;
      }
      #speak {
        color: white;
        background-color: green;
      }
      #cancel {
        color: white;
        background-color: red;
      }
      button {
        margin: 1px;
        border-left: 2px solid lightgrey;
        border-right: 2px solid black;
        border-top: 2px solid lightgrey;
        border-bottom: 2px solid black;
      }
      button:active {
        border-left: 2px solid black;
        border-right: 2px solid lightgrey;
        border-top: 2px solid black;
        border-bottom: 2px solid lightgrey;
      }
    </style>
  </head>
  <body onload="document.getElementById('speak_button').click()">
    <button id="speak" onclick="speak()">Speak <i class="fa-solid fa-headphones"></i></button>
      <button id="cancel" onclick="window.speechSynthesis.cancel()">Cancel <i class="fa-solid fa-ban"></i></button>
    <textarea id="thoughts">Made by Evan Lee.</textarea>

    <!--<p>
    <input id="rate" type="range" name="rate" min="0.01" max="1.8" step="0.01" value="0.9" style="width: 150px;"><p></p>
    <input id="pitch" type="range" name="pitch" min="0" max="2" step="0.01" value="1" style="width: 150px;">  
    </p>-->
  </body>
  <script> 
function speak() {
  let msg = new SpeechSynthesisUtterance(document.getElementById('thoughts').value);
  msg.lang = "en-US";
  msg.rate = 0.9;
  msg.pitch = 1;
  window.speechSynthesis.speak(msg);
}

let input = document.getElementById("thoughts");
input.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    event.preventDefault();
    document.getElementById("speak").click();
  }
});
  </script>
</html>
